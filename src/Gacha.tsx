import { useState } from "react";
import "./App.css";
import { Button } from "@mantine/core";
import { motion } from "framer-motion";

function GachaPage() {
  const [selectedType, setSelectedType] = useState<string | null>(null);
  const [result, setResult] = useState<string | null>(null);
  const [isSpinning, setIsSpinning] = useState(false);

  const gachaPools = {
    æ–‡ç³»: ["å¤ç›®æ¼±çŸ³ã€å¾è¼©ã¯çŒ«ã§ã‚ã‚‹ã€",
    "å¤ªå®°æ²»ã€äººé–“å¤±æ ¼ã€",
    "å·ç«¯åº·æˆã€é›ªå›½ã€",
    "èŠ¥å·é¾ä¹‹ä»‹ã€ç¾…ç”Ÿé–€ã€",
    "æ‘ä¸Šæ˜¥æ¨¹ã€ãƒãƒ«ã‚¦ã‚§ã‚¤ã®æ£®ã€",
    "ä¸­å³¶æ•¦ã€å±±æœˆè¨˜ã€",
    "å®®æ²¢è³¢æ²»ã€éŠ€æ²³é‰„é“ã®å¤œã€",
    "å¿—è³€ç›´å“‰ã€åŸã®å´ã«ã¦ã€",
    // å¤æ–‡å˜èªã‚¾ãƒ¼ãƒ³
    "ã‚ã—ã€è§£èª¬ã€‘ã€æ‚ªã—ã€ãŒèªæºã§ã€æ‚ªã„ã¨ã„ã†æ„å‘³",
    "ã„ã¨ã€è§£èª¬ã€‘ã€ã¨ã¦ã‚‚ã€ã®æ„ã€‚ã„ã¨ãŠã‹ã—ã€ã§æœ‰å",
    "ã‚ã¯ã‚Œã€è§£èª¬ã€‘ã€ã—ã¿ã˜ã¿ã¨è¶£æ·±ã„ã€ã€‚å…±æ„Ÿã‚„æ„Ÿå‹•ã‚’è¡¨ã™",
    "ã¤ã‚Œã¥ã‚Œã€è§£èª¬ã€‘ã€é€€å±ˆã€ã€‚å…¼å¥½æ³•å¸«ã®æ—¥å¸¸æ„Ÿ",
    "ã‚’ã‹ã—ã€è§£èª¬ã€‘ã€è¶£ãŒã‚ã‚‹ã€ã€‚æ¸…å°‘ç´è¨€ãŒå¤šç”¨",
    "ã‹ãªã—ã€è§£èª¬ã€‘ã€æ„›ãŠã—ã„ã€ã€‚ä»Šã®æ‚²ã—ã„ã¨ã¯é•ã†",
    "ã„ã¨ã‘ãªã—ã€è§£èª¬ã€‘ã€å¹¼ã„ã€",
    "ã„ã¾ã‚ã‹ã—ã€è§£èª¬ã€‘ã€ç¾ä»£é¢¨ã ã€å½“æ™‚ã®æµè¡Œã‚’æŒ‡ã™",
    "ã™ãšã‚ãªã‚Šã€è§£èª¬ã€‘ã€ãªã‚“ã¨ãªãã€ã€‚å¾’ç„¶è‰ã«ã‚‚å‡ºã‚‹",
    "ã†ã—ã€è§£èª¬ã€‘ã€ã¤ã‚‰ã„ãƒ»ã„ã‚„ã ã€ã€‚ç¾ä»£ã®ç‰›ã¨ã¯åˆ¥ç‰©",],
    ç†ç³»: [ "E=mc^2ã€è§£èª¬ã€‘è³ªé‡ã¨ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®é–¢ä¿‚ã€‚ç‰©ç†å­¦ã®ã‚¢ã‚¤ãƒ‰ãƒ«å¼",
    "ä¸‰å¹³æ–¹ã®å®šç†ã€è§£èª¬ã€‘ä¸­å­¦ã§ç¿’ã†ãŸã‚ã€ãƒã‚«ã®ä¸€ã¤è¦šãˆã®ã‚ˆã†ã«ä½¿ã†äººå¤šæ•°",
    "ãƒã‚¯ã‚¹ã‚¦ã‚§ãƒ«æ–¹ç¨‹å¼ã€è§£èª¬ã€‘é›»ç£æ°—å­¦ã®è–æ›¸ã€‚ã“ã‚ŒãŒã‚ã‹ã‚Œã°åšå£«å·ã‚‚è¿‘ã„ï¼Ÿ",
    "ç›¸å¯¾æ€§ç†è«–ã€è§£èª¬ã€‘é€Ÿã™ãã‚‹ã¨æ™‚é–“ã‚‚æ›²ãŒã‚‹ã€‚ãƒ©ãƒãƒ™ã®å…ƒãƒã‚¿æ„Ÿã‚‚ã‚ã‚‹",
    "ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ³ã®é‹å‹•æ–¹ç¨‹å¼ã€è§£èª¬ã€‘ã‚Šã‚“ã”ã«å°ã‹ã‚ŒãŸç”·ã®å‰æ¥­",
    "ç†±åŠ›å­¦ç¬¬äºŒæ³•å‰‡ã€è§£èª¬ã€‘ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ã¯å¢—å¤§ã™ã‚‹ã€‚ã¤ã¾ã‚Šéƒ¨å±‹ã¯å‹æ‰‹ã«æ•£ã‚‰ã‹ã‚‹",
    "ãƒœã‚¤ãƒ«ã®æ³•å‰‡ã€è§£èª¬ã€‘æ°—ä½“ã¯æŠ¼ã›ã°ç¸®ã‚€ã€‚å½“ãŸã‚Šå‰ã ã‘ã©å¤§ç™ºè¦‹",
    "DNAäºŒé‡ã‚‰ã›ã‚“ã€è§£èª¬ã€‘åˆ†å­ç”Ÿç‰©å­¦ã®ã‚¢ã‚¤ãƒ‰ãƒ«ã€‚ãƒ¯ãƒˆã‚½ãƒ³ã¨ã‚¯ãƒªãƒƒã‚¯ãŒãƒ‰ãƒ¤é¡”",
    "ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«ã€è§£èª¬ã€‘å…‰ã•ãˆé€ƒã’ã‚‰ã‚Œãªã„ã€‚ä¸­äºŒç—…ã®ä»£åè©",
    "ã‚«ã‚ªã‚¹ç†è«–ã€è§£èª¬ã€‘ãƒã‚¿ãƒ•ãƒ©ã‚¤åŠ¹æœã€‚ãƒ†ã‚¹ãƒˆå‰ã«éƒ¨å±‹ã‚’æƒé™¤ã™ã‚‹ã®ã‚‚ã“ã‚Œã®ã›ã„",
    "è¶…å¼¦ç†è«–ã€è§£èª¬ã€‘ç‰©ç†ç•Œã®å¨äºŒè¨­å®šã€‚å¤šæ¬¡å…ƒã™ãã¦èª°ã‚‚ç†è§£ã—ã¦ã„ãªã„",
    "é€²åŒ–è«–ã€è§£èª¬ã€‘ãƒ€ãƒ¼ã‚¦ã‚£ãƒ³å…ˆç”Ÿã€‚ç”Ÿå­˜æˆ¦ç•¥ã¯é©è€…ç”Ÿå­˜ã€ã‚ªã‚¿ã‚¯ç•Œéšˆã‚‚åŒã˜",
    "ã‚·ãƒ¥ãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚¬ãƒ¼ã®çŒ«ã€è§£èª¬ã€‘ç”Ÿæ­»ãŒåŒæ™‚ã€‚é‡å­åŠ›å­¦ã¨å“²å­¦ã®æ‚ªãµã–ã‘",
    "ãƒ©ãƒ—ãƒ©ã‚¹ã®æ‚ªé­”ã€è§£èª¬ã€‘ã™ã¹ã¦ã‚’äºˆè¦‹ã§ãã‚‹å­˜åœ¨ã€‚å—é¨“å‹‰å¼·ã§æ¬²ã—ã„èƒ½åŠ›No.1",
    "ãƒãƒƒãƒ–ãƒ«ã®æ³•å‰‡ã€è§£èª¬ã€‘å®‡å®™ã¯è†¨å¼µã—ã¦ã„ã‚‹ã€‚è²¡å¸ƒã®ä¸­èº«ã¯åç¸®ã—ã¦ã„ã‚‹",
    "çµ±è¨ˆåŠ›å­¦ã€è§£èª¬ã€‘æ•°ãŒå¤šã‘ã‚Œã°ãªã‚“ã¨ã‹ãªã‚‹ç†è«–ã€‚å¤§å­¦ç”Ÿã®å‡ºå¸­ã«ã‚‚é©ç”¨å¯",
    "ãƒ•ãƒ¼ãƒªã‚¨ç´šæ•°å±•é–‹ã€è§£èª¬ã€‘æ³¢ã‚’å…¨éƒ¨ã‚µã‚¤ãƒ³ãƒ»ã‚³ã‚µã‚¤ãƒ³ã§åˆ†è§£ã€‚éŸ³æ¥½ã‚‚æ•°å­¦ã«å¤‰æ›å¯èƒ½",
    "ãƒœãƒ«ãƒ„ãƒãƒ³æ–¹ç¨‹å¼ã€è§£èª¬ã€‘ã‚«ã‚ªã‚¹ãªç²’å­ã®å¤§é‹å‹•ä¼š",
    "ã‚·ãƒ¥ãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚¬ãƒ¼æ–¹ç¨‹å¼ã€è§£èª¬ã€‘é‡å­ã‚’æ“ã‚‹å‘ªæ–‡",
    "ã‚ªãƒ¼ãƒ ã®æ³•å‰‡ã€è§£èª¬ã€‘ä¸­å­¦ç†ç§‘ã®å‹é”ã€‚V=IRã§ä¸–ç•ŒãŒå›ã‚‹",],
    æ ¼è¨€: [
      "å³ã—ã„ã£ã¦ from2024 by ã‚¸ãƒ§ãƒ¼ã‚¸ãƒ¡ãƒ³ã‚ºã‚³ãƒ¼ãƒ",
      "å‹‰å¼·ã—ã¦ãã ã•ã„ï¼by æ²³é‡ã’ã‚“ã¨",
      "10åˆ†ä»¥å†…ã«ã‚¹ãƒãƒ›ã‚’æ¨ã¦ã‚ ãã†ã™ã‚Œã°äººç”Ÿã„ã„æ–¹å‘ã«ã„ã", 
      "ç‚ºã›ã°æˆã‚‹ã€ç‚ºã•ã­ã°ãªã‚‰ãªã„",
    "æ€ã„ç«‹ã£ãŸãŒå‰æ—¥ by æ˜”ã®å‰ã„äºº",
    // è¿·è¨€ã‚¾ãƒ¼ãƒ³ï¼ˆå…¨ä½“ã®3å‰²ãã‚‰ã„ï¼‰
    "å¾¹å¤œã¯æœ€å¼·ã®ã‚µãƒ—ãƒª by GPT",
    "3æ—¥åŠä¸»ã‚’120å›ç¹°ã‚Šè¿”ã›ã°1å¹´ç¶šã by GPT",
    "èŒ¨ã®é“ï¼Ÿé“ã‚ã‚‹ã˜ã‚ƒã‚“ã€æ­©ã‘ã‚ˆã€‚ byãªã‚“Jæ°‘",
    "ã‚¹ãƒˆãƒ¬ã‚¹ã§å‹‰å¼·ã«ãªã‚‰ãªã„ãã‚‰ã„ãªã‚‰ã‚·ã€‡ã£ãŸæ–¹ãŒã„ã„ byé™ç•Œå—é¨“ç”Ÿ2024",
    ],
  };

  const rollGacha = (type: keyof typeof gachaPools) => {
    setIsSpinning(true);
    setSelectedType(type);
    setResult(null);

    setTimeout(() => {
      const pool = gachaPools[type];
      const randomItem = pool[Math.floor(Math.random() * pool.length)];
      setResult(randomItem);
      setIsSpinning(false);
    }, 2000); // 2ç§’å›è»¢
  };

  return (
    <div style={{ textAlign: "center", marginTop: "2rem" }}>
      <h2>ã‚¬ãƒãƒ£ã‚’é¸ã‚“ã§ãã ã•ã„</h2>
      <div style={{ margin: "1rem", display: "flex", gap: "1rem", justifyContent: "center" }}>
        <Button onClick={() => rollGacha("æ–‡ç³»")} color="blue">Type-æ–‡ç³»</Button>
        <Button onClick={() => rollGacha("ç†ç³»")} color="green">Type-ç†ç³»</Button>
        <Button onClick={() => rollGacha("æ ¼è¨€")} color="pink">Type-æ ¼è¨€</Button>
      </div>

      {selectedType && (
        <div style={{ marginTop: "2rem" }}>
          <h3>{selectedType}ã‚¬ãƒãƒ£ã®çµæœï¼</h3>
          <motion.div
            animate={isSpinning ? { rotate: 360 } : { rotate: 0 }}
            transition={isSpinning ? { repeat: Infinity, duration: 0.5, ease: "linear" } : {}}
            style={{
              display: "inline-block",
              fontSize: "2rem",
              marginTop: "1rem",
            }}
          >
            {isSpinning ? "ğŸ²" : result}
          </motion.div>
        </div>
      )}
    </div>
  );
}

export default GachaPage;
